<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- maven build 시 mapper xml찾지못하는 오류 방지하기위해 임시로 작성한 mapper xml -->
<mapper namespace="kr.ync.project.mapper.productMapper">

	
	<!--  해외 상품 리스트 -->
	<select id="listAll" resultType="FProductVO">
	<![CDATA[
		SELECT  PRODUCT_NAME, ADULT_PRICE, ROOT, p.PRODUCT_CODE
		FROM 	TA_PRODUCT p, TA_PROIMG pi 
		WHERE   p.PRODUCT_CODE = pi.PRODUCT_CODE
		AND     p.NATION_CODE =  #{nation_code}
		]]>
	</select>
	
	<!-- 국내 상품 리스트 -->
	<select id="listAll_domestic" resultType="FProductVO">
	<![CDATA[
		SELECT  PRODUCT_NAME, ADULT_PRICE, ROOT, p.PRODUCT_CODE
		FROM 	TA_PRODUCT p, TA_PROIMG pi 
		WHERE   p.PRODUCT_CODE = pi.PRODUCT_CODE
		AND     p.CITY_CODE =  #{city_code}
		]]>
	</select>
	
	<!-- 상품 상세 보기 화면 -->
	<select id="read" resultType="FProductVO">
		<![CDATA[
		SELECT  *
		FROM 	TA_PRODUCT p , TA_CITY c, TA_NATION n, TA_PROIMG pi
		WHERE	p.PRODUCT_CODE = #{product_code}
		AND     p.CITY_CODE = c.CITY_CODE
		AND     c.NATION_CODE = n.NATION_CODE
		AND     p.PRODUCT_CODE = pi.PRODUCT_CODE
				]]>
	</select>
	
	<!-- 인기 상품 리스트 -->
	<select id="listAll_best" resultType="FProductVO">
		<![CDATA[
		SELECT  PRODUCT_NAME, ADULT_PRICE, ROOT, p.PRODUCT_CODE
		FROM 	TA_PRODUCT p, TA_PROIMG pi 
		WHERE   p.PRODUCT_CODE = pi.PRODUCT_CODE
		AND     p.CATEGORIZATION = '인기상품'
		AND     ROWNUM <=6
		]]>
	</select>
	
	<!-- 추천 상품 리스트 -->
	<select id="listAll_special" resultType="FProductVO">
		<![CDATA[
		SELECT  PRODUCT_NAME, ADULT_PRICE, ROOT, p.PRODUCT_CODE
		FROM 	TA_PRODUCT p, TA_PROIMG pi 
		WHERE   p.PRODUCT_CODE = pi.PRODUCT_CODE
		AND     p.CATEGORIZATION = '특가상품'
		AND     ROWNUM <=5
		]]>
	</select>
	
	
</mapper>
